// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

import {Utils} from "./Utils.sol";
import {IGovernance} from "contracts/governance/IGovernance.sol";
import {stdToml} from "forge-std/StdToml.sol";
import {IProtocolUpgradeHandler} from "./interfaces/IProtocolUpgradeHandler.sol";
import {Script} from "forge-std/Script.sol";
import {Vm} from "forge-std/Vm.sol";

contract SecurityCouncilEmergencyStageUpgrade is Script {
    using stdToml for string;

    function run() external {
        // Insert the address of the protocol upgrade handler here.
        IProtocolUpgradeHandler protocolUpgradeHandler = IProtocolUpgradeHandler(
            vm.envAddress("PROTOCOL_UPGRADE_HANDLER")
        );
        // Insert the private key of the stage governance
        Vm.Wallet memory wallet = vm.createWallet(uint256(vm.envBytes32("PRIVATE_KEY")));

        IProtocolUpgradeHandler.Call[] memory _calls = abi.decode(
            hex"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000072000000000000000000000000000000000000000000000000000000000000007e000000000000000000000000000000000000000000000000000000000000008c00000000000000000000000000000000000000000000000000000000000000b200000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000e600000000000000000000000000000000000000000000000000000000000000f400000000000000000000000000000000000000000000000000000000000001180000000000000000000000000000000000000000000000000000000000000126000000000000000000000000000000000000000000000000000000000000014a0000000000000000000000000000000000000000000000000000000000000158000000000000000000000000000000000000000000000000000000000000017c000000000000000000000000000000000000000000000000000000000000018a0000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044dc8e4b26000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001c4d52471c10000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000044aa200000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000001800000000000000000000000007921f9f70b754a014922aca94947e23f1a4241640000000000000000000000000000000000000000000000000000000000000024ff5a62a10000000000000000000000007f5401a0a0340f6a68fe3162e7bb3a57e262d18e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044c0a16dda0000000000000000000000008b448ac7cd0f18f3d8464e2645575772a26a3b6b00000000000000000000000025e04b7d1fc963ab8e5feb0797f7a943e260e8b60000000000000000000000000000000000000000000000000000000000000000000000000000000025e04b7d1fc963ab8e5feb0797f7a943e260e8b60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000242f9db6300000000000000000000000008b448ac7cd0f18f3d8464e2645575772a26a3b6b00000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001c424fd57fb0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044aa20000000000000000000000000000000000000000000000000000000000000003200000000000000000000000007921f9f70b754a014922aca94947e23f1a424164000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000004102f3bfece0d37ce9a28437884aa3e53414b2bc0d94c7149f95202b840e438d56d000000000000000000000000000000000000000000000000000000000000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001c424fd57fb0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044aa20000000000000000000000000000000000000000000000000000000000000003200000000000000000000000007921f9f70b754a014922aca94947e23f1a42416400000000000000000000000025e04b7d1fc963ab8e5feb0797f7a943e260e8b6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000041010000000000000000000000008b448ac7cd0f18f3d8464e2645575772a26a3b6b0000000000000000000000007f5401a0a0340f6a68fe3162e7bb3a57e262d18e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4d52471c10000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d800000000000000000000000000064ac968ccad1948fcee025fd59c20b153c880720000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000044aa200000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000001600000000000000000000000007921f9f70b754a014922aca94947e23f1a424164000000000000000000000000000000000000000000000000000000000000000479ba509700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4d52471c10000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d800000000000000000000000000a81839237509449334c27a8c56073979621027470000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000044aa200000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000001600000000000000000000000007921f9f70b754a014922aca94947e23f1a424164000000000000000000000000000000000000000000000000000000000000000479ba509700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4d52471c10000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d800000000000000000000000000e4a6850fa60c8efb5562433eacc6e43fec4ddd880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000044aa200000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000001600000000000000000000000007921f9f70b754a014922aca94947e23f1a424164000000000000000000000000000000000000000000000000000000000000000479ba509700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000049ab2b044a0ad97d8fde44a45e63d10b31f7a86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000fd3130ea0e8b7dd61ac3663328a66d97eb02f84b000000000000000000000000000000000000000000000000032a04cac682d80000000000000000000000000000000000000000000000000000000000000000000000000000000000236d1c3ff32bd0ca26b72af287e895627c0478ce000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000204d52471c10000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007b000000000000000000000000000000000000000000000000032a04cac682d800000000000000000000000000064ac968ccad1948fcee025fd59c20b153c880720000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000044aa200000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000007921f9f70b754a014922aca94947e23f1a42416400000000000000000000000000000000000000000000000000000000000000643cd29b81000000000000000000000000719a5ae8df7468c7e1c22278ed3fd472e990460400000000000000000000000064e2afcfe648201b2f4a749af0b7229ecfa44281000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            (IProtocolUpgradeHandler.Call[])
        );

        Utils.executeEmergencyProtocolUpgrade(protocolUpgradeHandler, wallet, _calls, bytes32(0));
    }
}
